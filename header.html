<header style="background:#fff;box-shadow:0 2px 10px rgba(0,0,0,0.05);position:sticky;top:0;z-index:1000;padding:15px 0">
    <div style="max-width:1200px;margin:0 auto;padding:0 20px;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between">
        <!-- Лого -->
        <a href="/" style="font-weight:700;font-size:1.5rem;color:#4f46e5;text-decoration:none; flex-shrink: 0;">AI Dispatcher</a> <!-- Добавил flex-shrink -->

        <!-- Кнопка мобильного меню -->
        <button id="menuBtn" style="background:none;border:none;cursor:pointer;display:none; font-size: 1rem; color: #4f46e5; font-weight: 600; padding: 5px 10px; border-radius: 5px;">
            <span>Меню</span>
            <!-- Можно опционально добавить иконку рядом -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="#4f46e5" style="vertical-align: middle; margin-left: 5px;">
                <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
            </svg>
        </button>

        <!-- Десктопное меню -->
        <nav id="desktopMenu" style="display:flex;align-items:center;gap:25px;">
            <a href="https://pay.cloudtips.ru/p/a063fe6b" style="text-decoration:none;color:#4f46e5;font-weight:500">На кофе</a>
            <!-- Важно: Если "Уроки" только на главной, лучше добавить "/" перед якорем для навигации с других страниц -->
            <a href="/#lessons" style="text-decoration:none;color:#111;font-weight:500">Уроки</a>
            <!-- Новый раздел "Промты" -->
            <a href="/prompts" style="text-decoration:none;color:#111;font-weight:500">Промты</a>
            <a href="contact" style="text-decoration:none;color:#111;font-weight:500">Контакты</a>
            <div style="display:flex;gap:15px">
                <a href="https://t.me/AIdispatcher9" target="_blank">
                    <img src="telegram.png" alt="Telegram" width="24" height="24" style="display: block;"> <!-- display: block для лучшей совместимости -->
                </a>
                <a href="https://playbeat.store/" target="_blank">
                    <img src="лого-playbeat.png" alt="PlayBeat" width="24" height="24" style="display: block;"> <!-- display: block -->
                </a>
            </div>
        </nav>
    </div>

    <!-- Мобильное меню (скрыто по умолчанию, раскрывается по клику) -->
    <div id="mobileMenu" style="display:none;background:#fff;padding:15px 20px;border-top:1px solid #eee;">
        <a href="https://pay.cloudtips.ru/p/a063fe6b" style="display:block;padding:10px 0;text-decoration:none;color:#4f46e5; border-bottom: 1px solid #eee;">На кофе</a>
        <!-- Важно: Если "Уроки" только на главной, лучше добавить "/" перед якорем для навигации с других страниц -->
        <a href="/#lessons" style="display:block;padding:10px 0;text-decoration:none;color:#111; border-bottom: 1px solid #eee;">Уроки</a>
        <!-- Новый раздел "Промты" в мобильном меню -->
        <a href="/prompts" style="display:block;padding:10px 0;text-decoration:none;color:#111; border-bottom: 1px solid #eee;">Промты</a>
        <a href="contact" style="display:block;padding:10px 0;text-decoration:none;color:#111; border-bottom: 1px solid #eee;">Контакты</a>
        <!-- Социальные иконки я оставил только в десктопе, как было в оригинале, 
             чтобы мобильное меню оставалось компактным. 
             Если нужно, их можно добавить сюда же. -->
    </div>

    <script>
        // Адаптация меню
        function updateMenuVisibility() {
            const isMobile = window.innerWidth <= 768;
            const menuBtn = document.getElementById('menuBtn');
            const desktopMenu = document.getElementById('desktopMenu');
            const mobileMenu = document.getElementById('mobileMenu');

            if (isMobile) {
                menuBtn.style.display = 'block';
                desktopMenu.style.display = 'none';
                // Мобильное меню по умолчанию скрыто, пока не кликнет пользователь
                // mobileMenu.style.display = 'none'; // Это уже в HTML инлайн-стилях
            } else {
                menuBtn.style.display = 'none';
                desktopMenu.style.display = 'flex';
                mobileMenu.style.display = 'none'; // Убедимся, что мобильное меню скрыто на десктопе
            }
        }

        // Клик по мобильной кнопке
        document.getElementById('menuBtn').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.style.display = mobileMenu.style.display === 'block' ? 'none' : 'block';
        });

        // Закрывать мобильное меню при клике на ссылку (опционально)
        document.querySelectorAll('#mobileMenu a').forEach(link => {
            link.addEventListener('click', function() {
                const mobileMenu = document.getElementById('mobileMenu');
                 // Добавляем небольшую задержку, чтобы клик на ссылку успел обработаться
                setTimeout(() => {
                     mobileMenu.style.display = 'none';
                }, 100); // Задержка в миллисекундах
            });
        });


        // Вызываем функцию при загрузке и изменении размера окна
        window.addEventListener('load', updateMenuVisibility);
        window.addEventListener('resize', updateMenuVisibility);

        // Также вызываем при DOMContentLoaded, чтобы меню корректно отобразилось до полной загрузки всех ресурсов (включая картинки)
        document.addEventListener('DOMContentLoaded', updateMenuVisibility);

    </script>
</header>
